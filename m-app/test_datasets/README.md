# 人脸识别测试数据集

本目录包含用于测试 AR 智慧课堂人脸识别应用的数据集工具和数据。

## 快速开始

### 方式 1: 自动下载/创建（推荐）

运行下载脚本：
```bash
cd test_datasets
python3 download_test_dataset.py
```

然后选择:
- **选项 3** - 创建小型模拟数据集（最快，适合功能测试）
- **选项 1** - 下载 LFW 真实数据集（~200MB，需要几分钟）

### 方式 2: 手动准备

1. 创建以下目录结构：
```
test_datasets/
├── student_faces/
│   ├── 张三/
│   │   ├── photo_1.jpg
│   │   ├── photo_2.jpg
│   │   └── photo_3.jpg
│   ├── 李四/
│   │   └── ...
│   └── 王五/
│       └── ...
```

2. 每个学生至少准备 2-3 张不同角度的照片
3. 照片要求：
   - 格式: JPG/PNG
   - 建议尺寸: 250x250 或更大
   - 清晰可见的正面人脸
   - 良好的光照条件

## 推荐的公开数据集

### 1. LFW (Labeled Faces in the Wild)
- **大小**: 13,233 张图片，5,749 人
- **来源**: <cite index="13-1,15-1">LFW 是一个人脸照片数据库，专为研究无约束人脸识别问题而设计</cite>
- **下载**: 使用本目录的 `download_test_dataset.py` 脚本
- **适合**: 算法性能测试、准确率评估

### 2. WIDER FACE
- **大小**: 32,203 张图片，393,703 个人脸
- **特点**: 包含各种场景、遮挡、姿态
- **下载**: http://shuoyang1213.me/WIDERFACE/
- **适合**: 人脸检测测试

### 3. CelebA
- **大小**: 202,599 张名人照片
- **特点**: 包含 40 种属性标注
- **下载**: https://mmlab.ie.cuhk.edu.hk/projects/CelebA.html
- **适合**: 属性检测、多样性测试

### 4. 模拟数据集（本工具生成）
- **大小**: 8 人，24-40 张图片
- **特点**: 与应用默认学生名单匹配
- **创建**: 运行脚本选择选项 3
- **适合**: 快速功能测试

## 使用数据集测试应用

### 测试人脸检测
1. 将数据集照片导入手机
2. 在应用中打开"学生"页面
3. 选择学生 → 点击"录入人脸"
4. 从相册选择照片
5. 验证人脸检测是否成功

### 测试手机相机模式
1. 打印数据集中的照片（或在另一设备上显示）
2. 打开应用 → "课堂"页面
3. 切换到"手机模式"
4. 点击"开始上课"
5. 用相机对准打印的照片
6. 验证检测和识别功能

### 性能测试
1. 准备至少 50 张不同人脸的照片
2. 分别测试:
   - 检测准确率（是否能检测到所有人脸）
   - 检测速度（每张照片处理时间）
   - 误识别率（是否会混淆不同的人）

## 数据集预处理建议

对于自己采集的照片，建议:
1. **人脸对齐**: 确保人脸居中
2. **统一大小**: 缩放至 250x250 像素
3. **光照均衡**: 使用直方图均衡化
4. **数据增强**: 
   - 轻微旋转 (±10°)
   - 水平翻转
   - 轻微缩放 (0.9-1.1x)

可以使用 OpenCV 或 PIL 进行预处理：
```python
from PIL import Image

# 调整大小
img = Image.open('photo.jpg')
img = img.resize((250, 250))
img.save('photo_resized.jpg')
```

## 伦理和隐私注意事项

使用人脸数据集时请注意:
- ✅ 仅用于测试和研究目的
- ✅ 不要分享他人的人脸照片
- ✅ 使用公开数据集时遵守其许可证
- ✅ 测试后及时删除敏感数据
- ❌ 不要用于未授权的身份识别
- ❌ 不要用于商业用途（除非获得授权）

## 常见问题

### Q: 为什么检测不到人脸？
A: 检查:
- 照片是否清晰
- 人脸是否完整可见
- 光照是否充足
- 照片格式是否支持（JPG/PNG）

### Q: 需要多少张照片？
A: 
- 功能测试: 每人 2-3 张
- 识别准确性测试: 每人 5-10 张
- 算法训练: 每人 20+ 张

### Q: 照片质量要求？
A: 
- 最低: 150x150 像素
- 推荐: 250x250 像素或更大
- 清晰度: 人脸特征可辨识
- 格式: JPG, PNG

## 更多资源

- [Face Recognition Datasets](https://www.face-rec.org/databases/)
- [Papers with Code - Face Recognition](https://paperswithcode.com/task/face-recognition)
- [Kaggle Face Datasets](https://www.kaggle.com/search?q=face+recognition)

---

**注意**: 本目录中的工具和说明仅供教育和研究使用。
